# 2.2 Biblioteka &#60;iostream&#62; i pierwszy program "Hello, World!"

W kocu napiszesz sw贸j pierwszy program w C++!   
Aby tego dokona, przedstawi ci potrzebne narzdzia:

- **`std::`** - Przestrze nazw standardowej biblioteki C++
- **Doczanie bibliotek standardowych C++**
- **`<iostream>`** - Standardowa biblioteka strumienia wejcia i wyjcia

Ale zanim zaczniemy, tak w ramach wspomnienia, przedstawi ci, jak pisa komentarze w kodzie, kt贸re podczas kompilacji s pomijane, ale ich obecno jest czsto pomocna w zrozumieniu kodu.

```cpp
// Komentarz jedno liniowy

/* Komentarz
   wielo
   liniowy */
```

## Standardowa biblioteka C++

Standardowa biblioteka C++ to zestaw polece stosowanych podczas pisania program贸w w jzyku C++. Pozwala ona na bardziej zo偶one operacje, kt贸re s czci jzyka programowania. Aby skorzysta z tej funkcjonalnoci, musisz przed wywoaniem polecenia napisa `std::`.

Mo偶esz r贸wnie偶 spotka si z kodem, kt贸ry nie zawiera przedrostka `std::` dla metod z biblioteki standardowej, poniewa偶 zadeklarowano przestrze nazw za pomoc `using namespace std;`. Cho jest to wygodne i nie wpywa na wydajno kompilacji ani dziaania programu, warto na pocztku stosowa skadni z `std::`. Dziki temu atwiej rozpoznasz, kt贸re elementy nale偶 do STL, i unikniesz potencjalnych konflikt贸w z innymi przestrzeniami nazw w bardziej zo偶onych projektach.

### Doczanie do programu biblioteki standardowej

Aby wykorzysta dane funkcjonalnoci jzyka C++, nale偶y doczy odpowiedni bibliotek, wykorzystujc fraz:
```cpp
#include <nazwa_biblioteki>
```
W przypadku doczania bibliotek spoza standardu C++, wska偶esz na nazw nag贸wka z rozszerzeniem `.h`, wykorzystujc to samo polecenie co wczeniej, np.:
```cpp
#include "MyLibrary.h"
```

### Wprowadzenie do biblioteki &#60;iostream&#62;

Biblioteka `<iostream>` jest jedn z podstawowych bibliotek standardowych w C++, kt贸ra umo偶liwia operacje wejcia i wyjcia (I/O). Dziki niej mo偶emy komunikowa si z u偶ytkownikiem poprzez konsol, pobierajc dane wejciowe i wywietlajc dane wyjciowe.

### Operatory `<<` i `>>`

W C++ operatory `<<` i `>>` s u偶ywane do operacji wejcia i wyjcia, przeci偶ania operator贸w oraz przesunicia bitowego. My na razie skupmy si na strumieniu danych:

- **Operator `<<`**: W kontekcie strumieni danych takich jak `std::cout` wypisuje dane na ekran.
  ```cpp
  std::cout << "Hello, World!" << std::endl;
  ```
  W powy偶szym przykadzie `<<` przesya tekst "Hello, World!" do strumienia wyjciowego `std::cout`.

- **Operator `>>`**: W kontekcie strumieni danych takich jak `std::cin`, pobiera dane od u偶ytkownika.
  ```cpp
  int liczba;
  std::cin >> liczba;
  ```
  W powy偶szym przykadzie `>>` pobiera warto wprowadzon przez u偶ytkownika i przypisuje j do zmiennej `liczba`.

### G贸wne komponenty &#60;iostream&#62;

- **`std::cin`**: Strumie wejciowy standardowy, u偶ywany do pobierania danych od u偶ytkownika z klawiatury.
  ```cpp
  int liczba; // zmienna cakowita 
  std::cin >> liczba;
  ```
    - `std::cin` jest buforowany, co oznacza, 偶e dane s przechowywane w buforze przed ich przetworzeniem.  
    U偶ywajc operatora `>>`, mo偶emy pobiera dane wejciowe od u偶ytkownika i przypisywa je do zmiennych.

___

- **`std::cout`**: Strumie wyjciowy standardowy, u偶ywany do wywietlania danych na ekranie.
  ```cpp
  std::cout << "Hello, World!" << std::endl;
  ```
    - `std::cout` jest buforowany, co oznacza, 偶e dane s przechowywane w buforze przed ich wywietleniem.  
    U偶ywajc operatora `<<`, mo偶emy przesya dane do strumienia wyjciowego, kt贸ry nastpnie wywietla je na ekranie.

___

- **`std::cerr`**: Strumie wyjciowy standardowy, u偶ywany do wywietlania komunikat贸w o bdach.  
  ```cpp
  std::cerr << "Wystpi bd!" << std::endl;
  ```
    - `std::cerr` nie jest buforowany, co oznacza, 偶e komunikaty o bdach s wywietlane natychmiast.

___

- **`std::clog`**: Strumie wyjciowy standardowy, u偶ywany do wywietlania komunikat贸w logowania.  
  ```cpp
  std::clog << "Log: Program uruchomiony" << std::endl;
  ```
    - `std::clog` jest buforowany, co oznacza, 偶e dane s przechowywane w buforze i wywietlane w wikszych blokach.

    - `std::clog` korzysta z wasnego bufora, niezale偶nego od bufora `std::cout`.  
        - Dane wysyane do `std::clog` s buforowane osobno od danych wysyanych do `std::cout`. Dziki temu mo偶na zarzdza logami i standardowymi wyjciami niezale偶nie, co jest przydatne w bardziej zo偶onych aplikacjach, gdzie logi mog by zapisywane w innym tempie ni偶 standardowe wyjcia.

___

- **`std::endl`**: Przechodzi do *nowej linii* i czyci bufor strumienia, do kt贸rego jest u偶ywany. Alternatywnie, bez czyszczenia bufora, mo偶esz tak偶e przej do *nowej linii*, wpisujc midzy cudzys贸w fraz `\n` (*new line*).
  ```cpp
  std::cout << "Po tej frazie bufor zosta wyczyszczony" << std::endl << "To jest nowa linia a bufor zosta znowu wyczyszczony";
  std::cout << "Po tej frazie bufor nie zosta wyczyszczony \n To jest nowa linia a bufor dalej nie jest wyczyszczony";
  ```
    - **`std::endl`** dopisany do **`std::cout`**, **`std::cerr`** lub **`std::clog`** sprawi 偶e ten bufor zostanie wyczyszczony.


## Buforowanie w operacjach wejcia i wyjcia

Podczas operacji wyjcia i wejcia stosowany jest `bufor`, kt贸ry pozwala na wprowadzanie znak贸w do specjalnej przestrzeni tymczasowej i zwr贸cenie ich jako wikszy blok danych. Buforowanie zwiksza wydajno operacji $$(I/O)$$, poniewa偶 zmniejsza liczb operacji fizycznego zapisu lub odczytu.

### Przykad z buforowaniem

Aby zobrazowa, co si stanie, gdy `bufor` zostanie zapeniony, przygotowaem program demonstrujcy ten przypadek, dodajc $$0,5s$$ op贸藕nienie midzy wypisaniem znaku `'A'` w konsoli.  
Zobacz r贸偶nic w wykonywaniu operacji wypisania $$10$$ znak贸w `'A'` w konsoli, gdy bufor ma rozmiar `2 Bajt贸w` i gdy zmienisz go na `10 Bajt贸w`. To, co zaobserwujesz, to wykorzystanie bufora.

```cpp
#include <iostream>
#include <cstdio>
#include <thread>
#include <chrono>

int main() {
    char buffer[2]; // Bufor o rozmiarze 2 Bajt贸w

    // Ustawienie bufora dla std::cout
    std::setvbuf(stdout, buffer, _IOFBF, sizeof(buffer));

    // Wypisanie wielu razy tekstu z op贸藕nieniami
    for (int i = 0; i < 10; ++i) {
        std::cout << "A";
        std::this_thread::sleep_for(std::chrono::milliseconds(500)); // Op贸藕nienie 500 ms
    }

    // Rczne opr贸偶nienie bufora
    std::cout.flush();

    return 0;
}
```

### Pierwszy program "Hello, World!"

```cpp
#include <iostream>

int main() {
    std::cout << "Hello, World!" << std::endl;
    return 0;
}
```

Wynikiem powy偶szego kodu bdzie wywietlenie "*Hello, World!*" w oknie konsoli debugowania programu __Microsoft Visual Studio__.

## Przykadowy program

Oto kompletny przykad programu, kt贸ry pobiera liczb od u偶ytkownika i wywietla j na ekranie:

```cpp
#include <iostream>

int main() {
    int zmienna; // Deklaracja zmiennej liczby cakowitej
    std::cout << "Podaj liczbe: " << std::endl; // Strumie wyjcia wypisujcy tekst
    std::cin >> zmienna; // Strumie wejcia przypisujcy warto podan do zmiennej
    std::cout << "Twoja liczba to: " << zmienna << std::endl; // Strumie wyjcia wypisujcy tekst i warto zmiennej
    return 0;
}
```

 
## Zadanie
 
Napisz program, kt贸ry bdzie kolejno pyta u偶ytkownika o wiek Adama, Ewy i psa Azora, a na koniec wywietli tekst podsumowujcy z informacj, kto ile ma lat.

<details>
<summary>Rozwizanie</summary>

<small>main.cpp:</small>

```cpp
#include <iostream>

int main() {
    int wiekAdama, wiekEwy, wiekAzora;

    std::cout << "Podaj wiek Adama: ";
    std::cin >> wiekAdama;

    std::cout << "Podaj wiek Ewy: ";
    std::cin >> wiekEwy;

    std::cout << "Podaj wiek psa Azora: ";
    std::cin >> wiekAzora;

    std::cout << "Adam ma " << wiekAdama << " lat." 
        << "Ewa ma " << wiekEwy << " lat." 
        << "Pies Azor ma " << wiekAzora << " lat." << std::endl;

    return 0;
}
```
</details>